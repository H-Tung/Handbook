# 9.5.LPD（行式打印机程序）

在后台打印一个文件被称为线轴。一个 spooler 允许用户继续使用计算机上的其他程序，而不必等待打印机慢慢完成打印任务。

FreeBSD 包括一个叫做 lpd(8) 的线轴程序。打印作业是用 lpr(1) 提交的。

## 9.5.1 初始设置

一个用于存储打印作业的目录被创建，所有权被设置，并且权限被设置为防止其他用户查看这些文件的内容。
```
# mkdir -p /var/spool/lpd/lp
# chown daemon:daemon /var/spool/lpd/lp
# chmod 770 /var/spool/lpd/lp
```
打印机是在 /etc/printcap 中定义的。每台打印机的条目包括名称、连接的端口和其他各种设置等细节。用这些内容创建 /etc/printcap。

```
lp:\				             ①
	:lp=/dev/unlpt0:\	         ②
	:sh:\			             ③
	:mx#0:\			             ④
	:sd=/var/spool/lpd/lp:\	     ⑤
	:lf=/var/log/lpd-errs:	     ⑥
```

- ①该打印机的名称。lpr(1)将打印作业发送到 lp 打印机，除非用 -P 指定其他打印机，所以默认的打印机应该被命名为lp。
- ②打印机所连接的设备。用这里显示的连接类型的适当行来替换这一行。
- ③禁止在打印作业开始时打印标题页。
- ④不要限制打印作业的最大尺寸。
- ⑤该打印机的 spooling 目录的路径。每台打印机都使用自己的 spooling 目录。
- ⑥将报告该打印机上的错误的日志文件。

