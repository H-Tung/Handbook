# 27.6. 设置串行控制台

FreeBSD 有能力在启动系统的时候将一个哑终端放在串口上作为控制台。这种配置对于希望在没有键盘或显示器的机器上安装 FreeBSD 的系统管理员，以及希望调试内核或设备驱动程序的开发人员来说非常有用。

正如在 《FreeBSD 启动过程》中所描述的， FreeBSD 采用了三个阶段的启动过程。前两个阶段是在引导块代码中，它被存储在引导盘上的 FreeBSD 片断的开头。然后，引导块加载并运行作为第三阶段代码的 Boot Loader。

为了设置从串行控制台启动，需要配置引导块代码、引导加载器代码和内核。

## 27.6.1. 快速配置串口控制台

本节提供了一个关于设置串行控制台的快速概述。这个程序可以在哑终端连接到 `COM1` 时使用。

> 在 `COM1` 上配置一个串行控制台
>
> 1. 将串行电缆连接到 `COM1` 和控制终端。
>
> 2. 要配置在串行控制台显示的启动信息，以超级用户身份发出以下命令：
>
>    ```
>    # echo 'console="comconsole"' >> /boot/loader.conf
>    ```
>    
> 3. 编辑 `/etc/ttys`，将 `ttyu0` 条目中的 `off` 改为 `on`，`dialup` 改为 `vt100`。否则，通过串行控制台连接时将不需要密码，从而导致一个潜在的安全漏洞。
>
> 4. 重启系统来检查这些变更是否起作用

如果需要不同的配置，请看下一节更深入的配置解释。

## 27.6.2. 深入的串行控制台配置

本节将对在 FreeBSD 中设置串行控制台所需的步骤进行更详细的解释。