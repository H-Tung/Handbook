# 24.5. 从源代码更新 FreeBSD

通过从源代码编译来更新 FreeBSD 与二进制更新相比有几个优点。可以使用选项构建代码,便于利用特定的硬件。基本系统的某些部分可以使用非默认设置构建，或者在不需要它们的地方完全省略。更新系统的编译构建过程比安装二进制更新需要更长的时间，但允许完全定制便于生成定制版本的 FreeBSD 。

## 24.5.1.快速开始

这是从原始码编译来更新 FreeBSD 的标准步骤快速的参考，稍后的章节会更详细的说明这个程序。

> - 编译并更新
> 
> ```
> # git pull /usr/src         #1
> check /usr/src/UPDATING     #2
> # cd /usr/src               #3
> # make -j4 buildworld       #4
> # make -j4 kernel           #5
> # shutdown -r now           #6
> # etcupdate -p              #7
> # cd /usr/src               #8
> # make installworld         #9
> # etcupdate -B              #10
> # shutdown -r now           #11
> ```
> 
> 1. 获取最新版本的源代码。关于获取和更新源代码的更多信息，请参见[更新源代码](https://docs.freebsd.org/en/books/handbook/cutting-edge/#updating-src-obtaining-src)。
> 2. 检查 **/usr/src/UPDATING**，了解从源码构建之前或之后需要的任何手动步骤。
> 3. 转到源码目录。
> 4. 编译世界 (World)，除了内核 (Kernel) 以外的一切。
> 5. 编译并安装内核。这等同于 `make buildkernel installkernel` 。
> 6. 重新启动系统到新的内核。
> 7. 更新并合并安装世界之前需要的 **/etc/** 配置文件。
> 8. 转到源代码目录。
> 9. 安装世界。
> 10. 更新并合并 **/etc/** 中的配置文件。
> 11. 重新启动系统，使用新建立的世界和内核。
> 

（后续内容明天更新······）
